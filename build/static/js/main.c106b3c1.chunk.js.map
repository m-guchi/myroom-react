{"version":3,"sources":["Home/TopDisplay.jsx","Home/chart.jsx","Home/chartSelect.jsx","Home/listTable.jsx","Home/Home.jsx","App.js","index.js"],"names":["useStyles","makeStyles","theme","root","padding","TopDisplay","props","classes","temperature","lastData","temp","humidity","humid","pressure","press","toFixed","Container","className","style","backgroundColor","Typography","align","variant","time","Box","Button","color","onClick","window","location","reload","Chart","data","chartData","map","val","ResponsiveContainer","width","height","LineChart","CartesianGrid","strokeDasharray","XAxis","dataKey","tick","reversed","YAxis","domain","Tooltip","Legend","Line","type","stroke","name","dot","ChartSelect","FormControl","fullWidth","InputLabel","id","Select","labelId","value","onChange","handleChange","MenuItem","table","ListTable","console","log","listData","TableContainer","component","Paper","Table","size","aria-label","TableHead","TableRow","TableCell","TableBody","row","key","scope","Home","useState","setLastData","setListData","setChartData","chartFetchNum","setChartFetchNum","useEffect","fetchLastDHT","fetchDHTList","fetchDHTChartList","axios","get","then","res","catch","err","error","e","target","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c106b3c1.chunk.js","sourcesContent":["import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Container, Typography, Button, Box } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        padding: '1rem'\n    }\n}));\n\nexport default function TopDisplay (props) {\n    const classes = useStyles();\n    \n    const temperature = props.lastData.temp\n    const humidity = props.lastData.humid\n    const pressure = (props.lastData.press/100).toFixed(2)\n\n    const handleUpdate = () => {\n        window.location.reload();\n    }\n\n    return(\n        <Container className={classes.root} style={{ backgroundColor: '#cfe8fc' }} >\n            <Typography align='center' variant='body2'>{props.lastData.time}</Typography>\n            <Typography align='center' variant='h6'>温度：{temperature} (℃)</Typography>\n            <Typography align='center' variant='h6'>湿度：{humidity} (%)</Typography>\n            <Typography align='center' variant='h6'>気圧：{pressure} (hPa)</Typography>\n            <Box align=\"center\">\n                <Button variant=\"outlined\" color=\"primary\" onClick={handleUpdate}>更新</Button>\n            </Box>\n        </Container>\n    )\n}","import React from 'react'\r\nimport { ResponsiveContainer, LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip, Legend } from 'recharts';\r\n\r\nexport default function Chart (props) {\r\n    const data = (props.chartData).map(val => {\r\n        const press = val.press/100;\r\n        return {...val, \"press\":press}\r\n    })\r\n    return(\r\n        <div>\r\n            <ResponsiveContainer width=\"95%\" height={200}>\r\n                <LineChart data={data}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" />\r\n                    <XAxis dataKey=\"time\" tick={false} reversed/>\r\n                    <YAxis domain={[0,40]} />\r\n                    <Tooltip />\r\n                    <Legend />\r\n                    <Line type=\"monotone\" dataKey=\"temp\" stroke=\"#8884d8\" name=\"温度\" dot={false} />\r\n                </LineChart>\r\n            </ResponsiveContainer>\r\n            <ResponsiveContainer width=\"95%\" height={200}>\r\n                <LineChart data={data}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" />\r\n                    <XAxis dataKey=\"time\" tick={false} reversed />\r\n                    <YAxis domain={[20,80]} />\r\n                    <Tooltip />\r\n                    <Legend />\r\n                    <Line type=\"monotone\" dataKey=\"humid\" stroke=\"#56C502\" name=\"湿度\" dot={false} />\r\n                </LineChart>\r\n            </ResponsiveContainer>\r\n            <ResponsiveContainer width=\"95%\"height={200}>\r\n                <LineChart data={data}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" />\r\n                    <XAxis dataKey=\"time\" tick={false} reversed />\r\n                    <YAxis domain={[980,1020]} />\r\n                    <Tooltip />\r\n                    <Legend />\r\n                    <Line type=\"monotone\" dataKey=\"press\" stroke=\"#F48F16\" name=\"気圧\" dot={false} />\r\n                </LineChart>\r\n            </ResponsiveContainer>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        padding: '0.5rem 5%'\r\n    },\r\n}));\r\n\r\nexport default function ChartSelect (props) {\r\n    const classes = useStyles();\r\n    return(\r\n        <div className={classes.root}>\r\n            <FormControl fullWidth >\r\n                <InputLabel id=\"demo-simple-select-label\">期間</InputLabel>\r\n                <Select\r\n                    labelId=\"demo-simple-select-label\"\r\n                    id=\"demo-simple-select\"\r\n                    value={props.data}\r\n                    onChange={props.handleChange}\r\n                >\r\n                <MenuItem value={72}>12時間</MenuItem>\r\n                <MenuItem value={144}>1日</MenuItem>\r\n                <MenuItem value={1008}>7日</MenuItem>\r\n                <MenuItem value={4320}>30日</MenuItem>\r\n            </Select>\r\n        </FormControl>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    table: {\r\n        // minWidth: 650,\r\n      },\r\n}));\r\n\r\nexport default function ListTable (props) {\r\n    const classes = useStyles();\r\n    console.log(props.listData)\r\n    return (\r\n        <TableContainer component={Paper}>\r\n          <Table className={classes.table} size=\"small\" aria-label=\"simple dense table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>時間</TableCell>\r\n                <TableCell align=\"right\">温度(℃)</TableCell>\r\n                <TableCell align=\"right\">湿度(%)</TableCell>\r\n                <TableCell align=\"right\">気圧(hPa)</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {props.listData.map((row,key) => (\r\n                <TableRow key={key}>\r\n                  <TableCell component=\"th\" scope=\"row\">{row.time}</TableCell>\r\n                  <TableCell align=\"right\">{row.temp}</TableCell>\r\n                  <TableCell align=\"right\">{row.humid}</TableCell>\r\n                  <TableCell align=\"right\">{(row.press/100).toFixed(2)}</TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from 'react'\nimport TopDisplay from './TopDisplay';\nimport Chart from './chart';\nimport ChartSelect from './chartSelect'\nimport ListTable from './listTable';\nimport axios from \"axios\"\n\nexport default function Home() {\n    const testData = {\"time\":\"2021-06-16 22:50:05\",\"temp\":32.1,\"humid\":57,\"press\":99234.21}\n    const testListData = [{\"time\":\"2021-06-17 00:20:05\",\"temp\":30.800000000000001,\"humid\":55,\"press\":99843.800000000003},{\"time\":\"2021-06-17 00:10:05\",\"temp\":31.100000000000001,\"humid\":55,\"press\":99843.300000000003},{\"time\":\"2021-06-17 00:00:12\",\"temp\":31,\"humid\":55,\"press\":99849},{\"time\":\"2021-06-16 23:50:05\",\"temp\":31.100000000000001,\"humid\":55,\"press\":99854.300000000003},{\"time\":\"2021-06-16 23:40:05\",\"temp\":30.800000000000001,\"humid\":54,\"press\":99870.800000000003},{\"time\":\"2021-06-16 23:30:05\",\"temp\":31,\"humid\":55,\"press\":99855.800000000003},{\"time\":\"2021-06-16 23:20:05\",\"temp\":30.699999999999999,\"humid\":55,\"press\":99855.600000000006},{\"time\":\"2021-06-16 23:10:06\",\"temp\":30.399999999999999,\"humid\":56,\"press\":99847.100000000006},{\"time\":\"2021-06-16 23:00:09\",\"temp\":30.5,\"humid\":56,\"press\":99852.100000000006},{\"time\":\"2021-06-16 22:50:05\",\"temp\":29.800000000000001,\"humid\":59,\"press\":99863},{\"time\":\"2021-06-16 22:40:05\",\"temp\":29.5,\"humid\":60,\"press\":99852.199999999997},{\"time\":\"2021-06-16 22:30:05\",\"temp\":29.399999999999999,\"humid\":60,\"press\":99853.399999999994},{\"time\":\"2021-06-16 22:20:06\",\"temp\":29.399999999999999,\"humid\":60,\"press\":100000},{\"time\":\"2021-06-16 22:15:51\",\"temp\":29.5,\"humid\":60,\"press\":100000},{\"time\":\"2021-06-16 22:04:56\",\"temp\":29.699999999999999,\"humid\":60,\"press\":100000},{\"time\":\"2021-06-16 21:50:05\",\"temp\":29.5,\"humid\":60,\"press\":100000},{\"time\":\"2021-06-16 21:30:05\",\"temp\":29.699999999999999,\"humid\":58,\"press\":100000},{\"time\":\"2021-06-16 21:20:05\",\"temp\":29.5,\"humid\":58,\"press\":100000},{\"time\":\"2021-06-16 21:10:17\",\"temp\":29.600000000000001,\"humid\":59,\"press\":100000},{\"time\":\"2021-06-16 21:00:06\",\"temp\":29.5,\"humid\":59,\"press\":100000}]\n    const [lastData, setLastData] = useState(null);\n    const [listData, setListData] = useState(null);\n    const [chartData, setChartData] = useState(null);\n    // const [lastData, setLastData] = useState(testData);\n    // const [listData, setListData] = useState(testListData);\n    // const [chartData, setChartData] = useState(testListData);\n\n    const [chartFetchNum, setChartFetchNum] = useState(144);\n    const handleChartNum = (e) => {\n        setChartFetchNum(e.target.value)\n    }\n    \n    useEffect(() => {\n        fetchLastDHT();\n        fetchDHTList();\n        fetchDHTChartList();\n    },[])\n    useEffect(()=>{\n        fetchDHTChartList();\n    },[chartFetchNum])\n\n    const fetchLastDHT = () => {\n        axios.get(\"./api/dht/last\")\n        .then(function(res) {\n            setLastData(res.data)\n        })\n        .catch(function(err) {\n            console.error(err)\n        })\n    }\n\n    const fetchDHTList = () => {\n        axios.get(\"./api/dht?num=72\")\n        .then(function(res) {\n            setListData(res.data)\n        })\n        .catch(function(err) {\n            console.error(err)\n        })\n    }\n\n    const fetchDHTChartList = () => {\n        axios.get(\"./api/dht?num=\"+chartFetchNum)\n        .then(function(res) {\n            setChartData(res.data)\n        })\n        .catch(function(err) {\n            console.error(err)\n        })\n    }\n\n    if(lastData && listData &&chartData){\n        return(\n            <div>\n                <TopDisplay lastData={lastData}/>\n                <ChartSelect data={chartFetchNum} handleChange={handleChartNum} />\n                <Chart chartData={chartData} />\n                <ListTable listData={listData} />\n            </div>\n        )\n    }else{\n        return null\n    }\n}","import Home from './Home/Home'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Home/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}